<g node-selectable svg-pannable class="nodeBox" >

   <rect box fill="rgba(255, 255, 255, 0.1)"
      x="0" y="0" ng-attr-width="{{ width }}" ng-attr-height="{{ height }}" />

   <rect header
      ng-attr-fill="{{ isSelected ? 'rgba(255, 255, 255, 0.2)': 'rgba(255, 255, 255, 0.1)' }}"
      x="0" y="0" ng-attr-width="{{ width }}" ng-attr-height="{{ headerHeight }}" />
   <text node-label="header" class="node label"
      ng-attr-x="{{ 2 }}"
      ng-attr-y="{{ headerHeight * 0.5 }}"
      text-anchor="start"
      style="alignment-baseline: middle;">
      {{ nodeObject.name }}
   </text>
   <text order-number class="node label"
      ng-attr-x="{{ width - 2 }}"
      ng-attr-y="{{ headerHeight * 0.5 }}"
      text-anchor="end"
      style="alignment-baseline: middle;">
      {{ nodeObject.order === -1 ? '-' : nodeObject.order }}
   </text>

   <g node-sortable>
      <g node-sort-item
         ng-attr-transform="translate( 0, {{ offsetInput }} )"
         ng-repeat="input in nodeObject.input track by input.uuid">
            <rect item
               fill="rgba(255, 255, 255, 0.0)"
               x="0"
               ng-attr-y="{{ $index * rowHeight + headerHeight }}"
               ng-attr-width="{{ width * 0.5 }}"
               ng-attr-height="{{ rowHeight }}"/>
            <rect node-connector
               fill="rgba(255, 255, 255, 0.0)"
               stroke="rgba(255, 255, 255, 1.0)"
               stroke-width="0.5"
               index="{{ $index }}"
               io="input"
               parent-uuid="{{ nodeObject.uuid }}"
               ng-attr-x="{{ connWidthOffset }}"
               ng-attr-y="{{ $index * rowHeight + headerHeight + connHeightOffset }}"
               ng-attr-width="{{ connWidth }}"
               ng-attr-height="{{ connHeight }}"/>
            <text node-label="input" class="node label"
               ng-attr-x="{{ connWidth + labelSpacing }}"
               ng-attr-y="{{ $index * rowHeight + headerHeight + ( rowHeight * 0.5 ) }}"
               text-anchor="start"
               style="alignment-baseline: middle;">
               {{ input.name }}
            </text>
      </g>
   </g>

   <g node-sortable>
      <g node-sort-item
         ng-attr-transform="translate( 0, {{ offsetOutput }} )"
         ng-repeat="output in nodeObject.output track by output.uuid" >
            <rect item
               fill="rgba(255, 255, 255, 0.0)"
               ng-attr-x="{{ width * 0.5 }}"
               ng-attr-y="{{ $index * rowHeight + headerHeight }}"
               ng-attr-width="{{ width * 0.5 }}"
               ng-attr-height="{{ rowHeight }}" />
            <rect node-connector
               fill="rgba(255, 255, 255, 0.0)"
               stroke="rgba(255, 255, 255, 1.0)"
               stroke-width="0.5"
               index="{{ $index }}"
               io="output"
               parent-uuid="{{ nodeObject.uuid }}"
               ng-attr-x="{{ width - connWidth - connWidthOffset }}"
               ng-attr-y="{{ $index * rowHeight + headerHeight + connHeightOffset }}"
               ng-attr-width="{{ connWidth }}"
               ng-attr-height="{{ connHeight }}"/>
            <text node-label="output" class="node label"
               ng-attr-x="{{ width - connWidth - labelSpacing }}"
               ng-attr-y="{{ $index * rowHeight + headerHeight + ( rowHeight * 0.5 ) }}"
               text-anchor="end"
               style="alignment-baseline: middle;">
               {{ output.name }}
            </text>
      </g>
   </g>

</g>
